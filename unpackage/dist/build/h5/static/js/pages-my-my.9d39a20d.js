(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-my"],{"06c4":function(t,e,a){"use strict";a.r(e);var n=a("7bce"),i=a("e2f1");for(var r in i)"default"!==r&&function(t){a.d(e,t,(function(){return i[t]}))}(r);a("adbe");var s,c=a("f0c5"),o=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"d39438ce",null,!1,n["a"],s);e["default"]=o.exports},"0bbd":function(t,e,a){"use strict";var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var i=n(a("1da1")),r=n(a("5530")),s=n(a("efeb")),c=n(a("8482")),o=a("26cb"),u={components:{UserHeader:s.default,UserPublish:c.default},computed:(0,r.default)({},(0,o.mapGetters)(["userInfo"])),data:function(){return{title:"coderhub",navColor:"rgba(247, 247, 245, 1)",nickNameTop:0,isScroll:!1,isXialashuaxin:!1}},methods:{nickName:function(t){this.nickNameTop=t.top-44},contentScroll:function(t){var e=t.detail.scrollTop;e<=44?this.navColor="rgba(247, 247, 245, ".concat(1-e/44,")"):e>44&&e<this.nickNameTop?(this.title="coderhub",this.isScroll=!1):(this.navColor="rgba(247, 247, 245, 0)",this.title=this.userInfo.nickname||"未登录",this.isScroll=!0)},xialashuaxin:function(){var t=this;return(0,i.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isXialashuaxin=!0,t.$refs.userPub.tabData[0].page=0,t.$refs.userPub.tabData[0].list=[],t.$refs.userPub.tabData[1].page=0,t.$refs.userPub.tabData[1].list=[],e.next=7,t.$refs.userPub.getMoment(t.$refs.userPub.tabData[0].page);case 7:return e.next=9,t.$refs.userPub.getComment(t.$refs.userPub.tabData[1].page);case 9:t.isXialashuaxin=!1;case 10:case"end":return e.stop()}}),e)})))()}}};e.default=u},2909:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=c(a("6005")),i=c(a("db90")),r=c(a("06c5")),s=c(a("3427"));function c(t){return t&&t.__esModule?t:{default:t}}function o(t){return(0,n.default)(t)||(0,i.default)(t)||(0,r.default)(t)||(0,s.default)()}},"30a6":function(t,e,a){"use strict";a("ac1f"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"Tab",props:{tabData:{type:Array,default:function(){return[]}},isScroll:{type:Boolean,default:!1}},data:function(){return{current:0,distance:0,left:0,preDistance:0,nextDistance:0,contentWidth:0,click:!1}},mounted:function(){var t=this;this.setDistance(),uni.createSelectorQuery().in(this).selectAll(".content-item").boundingClientRect((function(e){t.contentWidth=e[0].width})).exec()},methods:{setDistance:function(){var t=this;uni.createSelectorQuery().in(this).selectAll(".title-item").boundingClientRect((function(e){t.distance=e[t.current].left+(e[t.current].width-30)/2,t.left=e[t.current].left+(e[t.current].width-30)/2,t.preDistance=e[t.current-1]&&t.left-e[t.current-1].left+(e[t.current-1].width-30)/2,t.nextDistance=e[t.current+1]&&e[t.current+1].left+(e[t.current+1].width-30)/2-t.left})).exec()},clickTab:function(t){this.click=!0,this.current=t,this.setDistance()},transition:function(t){this.click||(t.detail.dx>0?this.distance=t.detail.dx/this.contentWidth*this.nextDistance+this.left:this.distance=t.detail.dx/this.contentWidth*this.preDistance+this.left)},change:function(t){this.current=t.detail.current},animationfinish:function(){this.setDistance(),this.left=this.distance,this.click=!1}}};e.default=n},3233:function(t,e,a){"use strict";a.r(e);var n=a("c5a9"),i=a("4204");for(var r in i)"default"!==r&&function(t){a.d(e,t,(function(){return i[t]}))}(r);a("6b16");var s,c=a("f0c5"),o=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"4a19ef4e",null,!1,n["a"],s);e["default"]=o.exports},"328d":function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"header"},[a("v-uni-view",{staticClass:"user-info"},[a("v-uni-view",{staticClass:"info"},[a("v-uni-image",{staticClass:"avatar",attrs:{src:t.avatarPath||t.userInfo.avatarUrl||"../../static/user.png",mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectAvatar.apply(void 0,arguments)}}}),a("v-uni-text",{staticClass:"nickname"},[t._v(t._s(t.userInfo.nickname||"未登录"))])],1),a("v-uni-view",{staticClass:"menu"},[t.userInfo.token?a("v-uni-view",{staticClass:"setInfo",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.loginOut.apply(void 0,arguments)}}},[t._v("退出登录")]):a("v-uni-view",{staticClass:"login",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.login.apply(void 0,arguments)}}},[t._v("去登录>")])],1)],1)],1)},r=[]},3427:function(t,e,a){"use strict";function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},"38eb":function(t,e,a){"use strict";a.r(e);var n=a("ec06"),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a},"3e30":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'.header[data-v-89b006a2]{background-color:#fff}.header[data-v-89b006a2]::before{content:"";display:block;height:100px;background-color:#f7f7f5}.user-info[data-v-89b006a2]{display:flex;justify-content:space-between;padding:10px;-webkit-transform:translateY(-35%);transform:translateY(-35%);font-size:18px;font-weight:600}.info[data-v-89b006a2]{display:flex;flex-direction:column}.avatar[data-v-89b006a2]{width:100px;height:100px;border-radius:50%}.nickname[data-v-89b006a2]{text-align:center;margin-top:10px}.menu[data-v-89b006a2]{align-self:center}.login[data-v-89b006a2]{padding:5px}.setInfo[data-v-89b006a2]{font-weight:500;border:1px solid #8a8a8a;border-radius:8px;font-size:14px;padding:3px 6px}',""]),t.exports=e},4204:function(t,e,a){"use strict";a.r(e);var n=a("0bbd"),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a},"4b04":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".tab[data-v-d39438ce]{width:100%;height:calc(100vh - 44px - 50px);background-color:#fff}.tab-title[data-v-d39438ce]{position:relative;width:100%;height:60px;line-height:60px;font-size:18px;white-space:nowrap;overflow:scroll}\n/* 隐藏滚动条 */.tab-title[data-v-d39438ce]::-webkit-scrollbar{width:0;height:0;color:transparent}.title-item[data-v-d39438ce]{display:inline-block;\n\t/* padding: 5px 0 8px 0; */margin-left:30px;color:#8a8a8a}\n/* .title-item:first-child {\n\tmargin-left: 0;\n} */.tab-active[data-v-d39438ce]{color:#000;font-weight:600}.bottom-line[data-v-d39438ce]{position:absolute;left:0;bottom:5px;width:30px;height:3px;border-radius:20px;background-color:#000;transition:left .1s}.tab-content[data-v-d39438ce]{width:100%;height:calc(100% - 60px)\n\t/* background-color: red; */}.content-item[data-v-d39438ce]{\n\t/* overflow: scroll; */}.scroll[data-v-d39438ce]{overflow:scroll;height:100%}.moment[data-v-d39438ce]{\n\t/* height: 100%; */padding:0 10px}.item[data-v-d39438ce]{width:100%;height:80px;overflow:hidden;display:flex;align-items:center}.img[data-v-d39438ce]{width:50px;height:50px;border-radius:5px;\n\t/* display: inline-block; */margin-right:10px}.content[data-v-d39438ce]{\n\t/* width: calc(100% - 50px - 20px); */flex:1;height:50px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:flex;flex-direction:column;justify-content:space-between}.content .title[data-v-d39438ce]{\n\t/* width: 100%; */white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.time[data-v-d39438ce]{font-size:12px;color:#8a8a8a}",""]),t.exports=e},6005:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var n=i(a("6b75"));function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t))return(0,n.default)(t)}},"6b16":function(t,e,a){"use strict";var n=a("8bcf"),i=a.n(n);i.a},"6ebc":function(t,e,a){"use strict";a.r(e);var n=a("ef6f"),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a},"732b":function(t,e,a){var n=a("3e30");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("f80842aa",n,!0,{sourceMap:!1,shadowMode:!1})},"7bce":function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"tab"},[a("v-uni-view",{staticClass:"tab-title"},[t._l(t.tabData,(function(e,n){return a("v-uni-view",{key:e.name,staticClass:"title-item",class:{"tab-active":t.current==n},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickTab(n)}}},[t._v(t._s(e.name))])})),a("v-uni-view",{staticClass:"bottom-line",style:{left:t.distance+"px"}})],2),a("v-uni-swiper",{staticClass:"tab-content",attrs:{duration:100,current:t.current},on:{transition:function(e){arguments[0]=e=t.$handleEvent(e),t.transition.apply(void 0,arguments)},change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)},animationfinish:function(e){arguments[0]=e=t.$handleEvent(e),t.animationfinish.apply(void 0,arguments)}}},t._l(t.tabData,(function(e,n){return a("v-uni-swiper-item",{key:n,staticClass:"content-item"},[a("v-uni-view",{class:{scroll:t.isScroll}},[a("v-uni-view",{staticClass:"moment"},t._l(e.list,(function(e,n){return a("v-uni-view",{key:n,staticClass:"item"},[e.images?a("v-uni-image",{staticClass:"img",attrs:{src:e.images[0],mode:""}}):t._e(),a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"title"},[t._v(t._s(e.content))]),a("v-uni-view",{staticClass:"time"},[t._v(t._s(t.$timeHandle(e.createTime)))])],1)],1)})),1)],1)],1)})),1)],1)},r=[]},8482:function(t,e,a){"use strict";a.r(e);var n=a("d2a1"),i=a("38eb");for(var r in i)"default"!==r&&function(t){a.d(e,t,(function(){return i[t]}))}(r);var s,c=a("f0c5"),o=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"3ad0acb8",null,!1,n["a"],s);e["default"]=o.exports},"8bcf":function(t,e,a){var n=a("da7a");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("6711ce10",n,!0,{sourceMap:!1,shadowMode:!1})},"8efa":function(t,e,a){var n=a("4b04");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("220c2290",n,!0,{sourceMap:!1,shadowMode:!1})},adbe:function(t,e,a){"use strict";var n=a("8efa"),i=a.n(n);i.a},c5a9:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n}));var n={uniNavBar:a("74e5").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("uni-nav-bar",{attrs:{statusBar:"true",border:!1,leftWidth:"100px","background-color":t.navColor}},[a("v-uni-view",{staticClass:"nav-bar",attrs:{slot:"left"},slot:"left"},[t._v(t._s(t.title))])],1),a("v-uni-scroll-view",{staticClass:"content",attrs:{"scroll-y":!0,"refresher-background":"#f7f7f5","refresher-enabled":!0,"refresher-threshold":80,"refresher-triggered":t.isXialashuaxin},on:{scroll:function(e){arguments[0]=e=t.$handleEvent(e),t.contentScroll.apply(void 0,arguments)},refresherrefresh:function(e){arguments[0]=e=t.$handleEvent(e),t.xialashuaxin.apply(void 0,arguments)}}},[a("UserHeader",{on:{nickName:function(e){arguments[0]=e=t.$handleEvent(e),t.nickName.apply(void 0,arguments)}}}),a("UserPublish",{ref:"userPub",attrs:{isScroll:t.isScroll}})],1)],1)},r=[]},d2a1:function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"publish"},[a("Tab",{staticClass:"tab",attrs:{tabData:t.tabData,isScroll:t.isScroll}})],1)},r=[]},da7a:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".nav-bar[data-v-4a19ef4e]{font-size:20px;font-weight:600}.content[data-v-4a19ef4e]{height:calc(100vh - 44px - 50px)}",""]),t.exports=e},e2f1:function(t,e,a){"use strict";a.r(e);var n=a("30a6"),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a},ec06:function(t,e,a){"use strict";var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("2909"));a("96cf");var r=n(a("1da1")),s=n(a("5530")),c=a("3eee"),o=a("26cb"),u=n(a("06c4")),l={name:"UserPublish",components:{Tab:u.default},props:{isScroll:{type:Boolean,default:!1}},computed:(0,s.default)({},(0,o.mapGetters)(["userInfo"])),data:function(){return{abc:"aaaa",tabData:[{name:"发表的动态",page:0,list:[]},{name:"发表的评论",page:0,list:[]}]}},methods:{getMoment:function(t){var e=this;return(0,r.default)(regeneratorRuntime.mark((function a(){var n,r,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=10*t,s=10*(t+1),a.next=4,(0,c.request)({url:"/moment",data:{userId:e.userInfo.id,offset:r,limit:s}});case 4:o=a.sent,e.tabData[0].page+=1,(n=e.tabData[0].list).push.apply(n,(0,i.default)(o.data));case 7:case"end":return a.stop()}}),a)})))()},getComment:function(t){var e=this;return(0,r.default)(regeneratorRuntime.mark((function a(){var n,r,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=10*t,s=10*(t+1),a.next=4,(0,c.request)({url:"/comment",data:{id:e.userInfo.id,offset:r,limit:s}});case 4:o=a.sent,e.tabData[1].page+=1,(n=e.tabData[1].list).push.apply(n,(0,i.default)(o.data));case 7:case"end":return a.stop()}}),a)})))()}},mounted:function(){this.userInfo.id&&(this.getMoment(this.tabData[0].page),this.getComment(this.tabData[1].page))},watch:{userInfo:function(t,e){this.tabData[0].page=0,this.tabData[0].list=[],this.tabData[1].page=0,this.tabData[1].list=[],this.getMoment(this.tabData[0].page),this.getComment(this.tabData[1].page)}}};e.default=l},ed23:function(t,e,a){"use strict";var n=a("732b"),i=a.n(n);i.a},ef6f:function(t,e,a){"use strict";var n=a("4ea4");a("ac1f"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var i=n(a("1da1")),r=n(a("5530")),s=a("26cb"),c=a("3eee"),o={name:"UserHeader",data:function(){return{avatarPath:""}},mounted:function(){var t=this;uni.createSelectorQuery().in(this).select(".nickname").boundingClientRect((function(e){t.$emit("nickName",e)})).exec()},computed:(0,r.default)({},(0,s.mapGetters)(["userInfo"])),methods:{login:function(){uni.navigateTo({url:"/pages/login/login"})},loginOut:function(){this.$store.dispatch("loginOut"),this.avatarPath=""},selectAvatar:function(){var t=this;uni.showActionSheet({itemList:["更换头像"],success:function(e){0==e.tapIndex&&uni.chooseImage({count:1,success:function(){var e=(0,i.default)(regeneratorRuntime.mark((function e(a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return uni.showLoading({title:"正在上传头像",mask:!0}),e.next=3,(0,c.uploadImg)({url:"/upload/avatar",imgPath:a.tempFilePaths[0],name:"avatar",token:t.userInfo.token}).catch((function(t){return uni.showModal({title:"上传出错！",content:"请不要上传奇奇怪怪格式的图片，例如gif",showCancel:!1})}));case 3:if(n=e.sent,uni.hideLoading(),200==n.statusCode){e.next=7;break}return e.abrupt("return",uni.showToast({title:n.data,icon:"error"}));case 7:uni.showToast({title:"更换头像成功"}),t.$store.dispatch("setUserInfo",n.data),t.avatarPath=a.tempFilePaths[0];case 10:case"end":return e.stop()}}),e)})));function a(t){return e.apply(this,arguments)}return a}()})}})}}};e.default=o},efeb:function(t,e,a){"use strict";a.r(e);var n=a("328d"),i=a("6ebc");for(var r in i)"default"!==r&&function(t){a.d(e,t,(function(){return i[t]}))}(r);a("ed23");var s,c=a("f0c5"),o=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"89b006a2",null,!1,n["a"],s);e["default"]=o.exports}}]);